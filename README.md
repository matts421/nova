# 5 People (Team 12) - Milestone 1
_Follow the hyperlinks to see the code location_

| #   | Category             | Task                                                                                  | Description       |                                                                                                                                                                                                                                                                                                                                                                                                                                     
| :-- | :------------------- | :------------------------------------------------------------------------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | Rendering            | Textured geometry                                                                     | All sprites are rendered as quad geometries, [textured mapped](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/425b744c816b4eef6d0fd730f1a81cae5eb99efe/shaders/textured.fs.glsl#L13C1-L22C2) from a spritesheet. Our [drawing order](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/425b744c816b4eef6d0fd730f1a81cae5eb99efe/src/render_system.cpp#L434C2-L497C46) layers entities such that entities further to the camera (i.e. a lower y-value), are drawn first.                                                                                                                                                                                                                                                   |   
| 2   | Rendering            | Basic 2D transformations                                                              | Through a motion [component](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/5c407ca92f15f043dd2280f16378227e8162e516/src/tinyECS/components.hpp#L53-L64), every rendered entity has an associated position (translation), angle (rotation), and scale (size). These values are used to properly [transform](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/5c407ca92f15f043dd2280f16378227e8162e516/src/render_system.cpp#L211-L221) the sprites when [rendered on-screen](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/5c407ca92f15f043dd2280f16378227e8162e516/shaders/textured.vs.glsl#L38).                                                                                                                                                                                                                                       |    
| 3   | Rendering            | Key-frame/state interpolation                                                         | Implemented a vignette effect. The fragment shader uses a [uniform `darken_screen_factor`](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/render_system.cpp#L361C2-L372C18) to illustrate the player's current health, and how much damage they have taken. The vignette darkens more as the player gets closer to death. The ovular shape of the vignette is achieved through [Hermite interpolation](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/shaders/vignette.fs.glsl#L11-L14), and the darkening from light to dark red of the vignette is done through [linear interpolation](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/shaders/vignette.fs.glsl#L16-L18) of the background color to solid red. |      
| 4   | Gameplay             | Keyboard/mouse control                                                                | The player can be moved with the [arrow keys](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_system.cpp#L374C1-L389C3), and its [direction](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_system.cpp#L207C2-L226C3), [speed](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_system.cpp#L191C2-L203C26), and movement [animation](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_system.cpp#L247C2-L263C3) reflect these changes. Projectiles can also be shot by the player with a [left-mouse click](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_system.cpp#L413C2-L430C3).                                                                                                                                                                                                                                                               |      
| 5   | Gameplay             | Random/coded action                                                                   | When an enemy is within range, the player's rocketship [fires projectiles](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_system.cpp#L266C1-L288C3) at enemies automatically.                                                                                                                                                                                                                                                                                                                                                     |      
| 6   | Gameplay             | Well-defined game-space boundaries                                                    | The player is confined to the land within the [spawn island](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_system.cpp#L42C1-L50C3). The player is only allowed to wade into shallow water, but going too far into the water is [prohibited](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_system.cpp#L292C2-L303C3); this acts as a map-boundary.                                                                                                                                                                                                                                                        |      
| 7   | Gameplay             | Simple collision detection & resolution                                               | The player can collide with the rocketship (which acts as a fixed barrier), or with enemies (which result in an elastic collision with knockback). Projectiles can also collide with enemies, at which point they are destroyed, and the enemy takes damage. The collision system supports both AABB rectangles, and circles for hitboxes.                                                                                                             |      
| 8   | Stability            | Stable frame rate and minimal game lag                                                | Depending on the user's specific hardware, the game runs at a stable 90-120 FPS, with no degradation over time. This is displayed in the game [window title](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/main.cpp#L71C3-L83C4).                                                                                                                                                                                                                                                                                            | 
| 9   | Stability            | No crashes, glitches, or unpredictable behaviour                                      | The game runs predictably and smoothly.                                                                                                                                                                                                                                                                                                                                                                                                                | 
| 10  | Software Engineering | Test plan - a list of player or game actions and their excepted outcomes              | See the test plan for more details.                                                                                                                                                                                                                                                                                                                                                                                                                    | 
| 11  | Reporting            | Bug list (preliminary) - Google Sheets or Microsoft Excel spreadsheet                 | See the bug list for more details.                                                                                                                                                                                                                                                                                                                                                                                                                     |      
| 12  | Reporting            | Demonstration video (3 min. max) showcasing assignment required and creative features | See the demo video for more details.                                                                                                                                                                                                                                                                                                                                                                                                                   |      
| 13  | Creative Element     | Camera controls                                                                       | A main [camera entity](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/world_init.cpp#L44C1-L52C2), camera [component](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/tinyECS/components.hpp#L222C1-L230C3), and associated [system](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/camera_system.cpp#L26C1-L41C2) have been implemented. This includes a new [camera/view matrix](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/src/render_system.cpp#L223C2-L225C46) in the vertex shaders. This allows for the camera to follow the player while exploring the map.                                                                                                                                                                                                                            |
| 14  | Creative Element     | External integration                                                                  | Our game integrates a third-party ECS called [EnTT](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd591283c0aaa806390f8292cb3b33a1c7842b4e/CMakeLists.txt#L49). Confirmed to work on Windows, MacOS, and Linux.                                                                                                                                                                                                                                                                                                                                                     |
