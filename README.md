# 5 People (Team 12) - Milestone 2

_Follow the hyperlinks to see the code location_


| #  | Category          | Task                    | Description | 
| -- | :---------------- | :---------------------- | --- |
| 1  | Improved Gameplay | Improved game AI        | @Steve |
| 2  | Improved Gameplay | Sprite animation        | @Steve |
| 3  | Improved Gameplay | Assets                  | Added additional assets including [trees and shrubbery](data/textures/terrain/tree.png) depending on the terrain beneath the decoration. Also added an additional enemy type: [the blue goblin](data/textures/mob/goblin_torch_blue.png). |
| 4  | Improved Gameplay | Mesh-based collisions   | Implemented separating-axis theorem-based collisions (SAT). This allows each hitbox to be represented by an [arbitrary number of points in 2D space](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/collision/hitbox.hpp#L13C1-L16C3). Collisions are detected when there does not exist a surface-normal axis in which the two hitbox's projections [do not have overlap](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/collision/hitbox.cpp#L60C1-L76C17). Collision resolution is handled on a [case-by-case basis](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/collision/collision_system.cpp#L56-L139) depending on the entity and component types. Each hitbox only supports a single convex shape. One particularly interesting hitbox is the [octagonal projectile](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/fd864c020032347dffc84bb93b2906740dec833d/src/world_init.cpp#L346C2-L354C4). <br><br> Projectiles do not collide with trees to make gameplay more fun and easier. Mobs can walk through the ship, water, and trees right now (intended) until they have improved pathfinding. |
| 5  | Improved Gameplay | Gameplay tutorial       | @Frank|
| 6  | Improved Gameplay | Frame-rate counter      | [Frame-rate counter](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/main.cpp#L102C3-L111C4) is always visible in the game window title. |
| 7  | Playability       | 2-minute gameplay       | Explore the custom randomly-generated island, and defeat blue goblins along the way. Reach the furthest corners of the map to encounter and defeat the 4 boss enemies stationed around the map. |
| 8  | Stability         | Minimal lag             | The game experiences minimal lag. Largest fluctuations come from text rendering, but the gameplay experience is still smooth and is not hindered whatsoever. |
| 9  | Stability         | Crashes and glitches    | The game experiences no crashes or game-breaking glitches. |
| 10 | Software Eng.     | Test plan               | See the [test plan](doc/test-plan.md) for more details. |
| 11 | Reporting         | Bug list                | See the [bug list](doc/bug-report.csv) for more details. |
| 12 | Reporting         | Demonstration video     | See the demo video for more details.                                                                                                                                 |
| 13 | Creative Element  | Audio feedback          | Created a new [music system](src/music_system.hpp) that manages setup, playing, and cleanup of SFX and background music resources. Background music added, and [SFX](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/music_system.hpp#L22C1-L26C39) added for many actions including [menu interactions](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/world_system.cpp#L516C1-L531C3), [shooting](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/world_system.cpp#L537C1-L543C3), taking or dealing [damage](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/collision/collision_system.cpp#L66C1-L69C41), and interacting with [items](https://github.students.cs.ubc.ca/CPSC427-2024W-T2/team-12/blob/580fc5d5e6fcffa7fef8c1cb0c1f6615da54cbef/src/ui_system.cpp#L115). |
| 14 | Creative Element  | Basic integrated assets | Created a title screen including a [game logo](data/textures/title/screen.png), and several pixel-art [UI buttons](data/textures/title/) using software tool Aseprite. Also implemented a [python script](scripts/paint.py) to retexture our assets to conform to a consistent palette.  |
